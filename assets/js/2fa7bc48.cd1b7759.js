"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2972],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>h});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var m=o.createContext({}),d=function(e){var t=o.useContext(m),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},l=function(e){var t=d(e.components);return o.createElement(m.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,m=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),c=d(n),u=a,h=c["".concat(m,".").concat(u)]||c[u]||p[u]||r;return n?o.createElement(h,i(i({ref:t},l),{},{components:n})):o.createElement(h,i({ref:t},l))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=u;var s={};for(var m in t)hasOwnProperty.call(t,m)&&(s[m]=t[m]);s.originalType=e,s[c]="string"==typeof e?e:a,i[1]=s;for(var d=2;d<r;d++)i[d]=n[d];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5843:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>d});var o=n(7462),a=(n(7294),n(3905));const r={sidebar_position:50},i="Commands",s={unversionedId:"basics/structure/commands",id:"basics/structure/commands",title:"Commands",description:"Commands are defined in json files placed in the /data//modonomicons//commands/ folder.",source:"@site/docs/basics/structure/commands.md",sourceDirName:"basics/structure",slug:"/basics/structure/commands",permalink:"/modonomicon/docs/basics/structure/commands",draft:!1,editUrl:"https://github.com/klikli-dev/modonomicon/tree/documentation/docs/basics/structure/commands.md",tags:[],version:"current",sidebarPosition:50,frontMatter:{sidebar_position:50},sidebar:"tutorialSidebar",previous:{title:"Entries",permalink:"/modonomicon/docs/basics/structure/entries"},next:{title:"Page Types",permalink:"/modonomicon/docs/basics/page-types/"}},m={},d=[{value:"Command IDs",id:"command-ids",level:2},{value:"Attributes",id:"attributes",level:2},{value:"<strong>command</strong> (String, <em>mandatory</em>)",id:"command-string-mandatory",level:3},{value:"<strong>permission_level</strong> (Integer, <em>optional</em>)",id:"permission_level-integer-optional",level:3},{value:"<strong>max_usages</strong> (Integer, <em>optional</em>)",id:"max_usages-integer-optional",level:3},{value:"<strong>failure_message</strong> (DescriptionId, <em>optional</em>)",id:"failure_message-descriptionid-optional",level:3},{value:"<strong>success_message</strong> (DescriptionId, <em>optional</em>)",id:"success_message-descriptionid-optional",level:3},{value:"Usage Examples",id:"usage-examples",level:2}],l={toc:d},c="wrapper";function p(e){let{components:t,...n}=e;return(0,a.kt)(c,(0,o.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"commands"},"Commands"),(0,a.kt)("p",null,"Commands are defined in json files placed in the ",(0,a.kt)("inlineCode",{parentName:"p"},"/data/<mod_id>/modonomicons/<book_id>/commands/")," folder.",(0,a.kt)("br",{parentName:"p"}),"\n","They are intended to give book creators more flexibility. Commands can be triggered either via a ",(0,a.kt)("a",{parentName:"p",href:"/modonomicon/docs/basics/formatting#command-link"},"Command Link")," or when an entry is first read/openend(See ",(0,a.kt)("a",{parentName:"p",href:"/modonomicon/docs/basics/structure/entries#attributes"},"Entry - command_to_run_on_first_read"),").  "),(0,a.kt)("p",null,"Commands are guarded against abuse and by default can only be run once per player per world (even if the player resets the book).",(0,a.kt)("br",{parentName:"p"}),"\n","In the book you need to specify the command's id (ResourceLocation) instead of the actual minecraft command."),(0,a.kt)("h2",{id:"command-ids"},"Command IDs"),(0,a.kt)("p",null,"The id for ",(0,a.kt)("inlineCode",{parentName:"p"},"/data/<mod_id>/modonomicons/my_book/commands/test_command")," would be ",(0,a.kt)("inlineCode",{parentName:"p"},"<mod_id>:test_command"),".",(0,a.kt)("br",{parentName:"p"}),"\n","The book id is not part of the command id, because the book id is taken from context (from the command link or the entry). "),(0,a.kt)("p",null,"For ",(0,a.kt)("inlineCode",{parentName:"p"},"/data/<mod_id>/modonomicons/my_book/commands/rewards/apple")," the id would be ",(0,a.kt)("inlineCode",{parentName:"p"},"<mod_id>:rewards/apple"),". "),(0,a.kt)("h2",{id:"attributes"},"Attributes"),(0,a.kt)("h3",{id:"command-string-mandatory"},(0,a.kt)("strong",{parentName:"h3"},"command")," (String, ",(0,a.kt)("em",{parentName:"h3"},"mandatory"),")"),(0,a.kt)("p",null,'The minecraft command to run. Commands will be run with the player as "sender", so take that into account.'),(0,a.kt)("h3",{id:"permission_level-integer-optional"},(0,a.kt)("strong",{parentName:"h3"},"permission_level")," (Integer, ",(0,a.kt)("em",{parentName:"h3"},"optional"),")"),(0,a.kt)("p",null,"Defaults to ",(0,a.kt)("inlineCode",{parentName:"p"},"0"),".",(0,a.kt)("br",{parentName:"p"}),"\n","The permission level to run the command with. This will be used instead of the actual permission level of the player."),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"For most commands (such as /give) you will need at least permission level 2.")),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"When testing and the command fails with an obscure error message (such as: incomplete command), despite the same command working fine when running it in chat, try to increase the permission level up to 4.")),(0,a.kt)("h3",{id:"max_usages-integer-optional"},(0,a.kt)("strong",{parentName:"h3"},"max_usages")," (Integer, ",(0,a.kt)("em",{parentName:"h3"},"optional"),")"),(0,a.kt)("p",null,"Defaults to ",(0,a.kt)("inlineCode",{parentName:"p"},"-1"),".",(0,a.kt)("br",{parentName:"p"}),"\n","The maximum amount of times the command can be used. Modonomicon will keep track of this per command json, independent of how the command is triggered. Resetting the modonomicon will not reset the command count. "),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"This ensures that commands cannot be abused to cheat a reward multiple times.")),(0,a.kt)("h3",{id:"failure_message-descriptionid-optional"},(0,a.kt)("strong",{parentName:"h3"},"failure_message")," (DescriptionId, ",(0,a.kt)("em",{parentName:"h3"},"optional"),")"),(0,a.kt)("p",null,"A custom failure message to display, if the command has been used beyond max_usages already.",(0,a.kt)("br",{parentName:"p"}),"\n","I none is provided, a default message will be shown.\nOther failures (such as invalid command syntax) are handled by minecraft and have a failure message rom there.   "),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"In most cases this message will never show. One of the possible scenarios is with an entry read command, if the book gets reset and the player reads the entry again. The command will not execute again, and instead this message (or the default) will show.")),(0,a.kt)("h3",{id:"success_message-descriptionid-optional"},(0,a.kt)("strong",{parentName:"h3"},"success_message")," (DescriptionId, ",(0,a.kt)("em",{parentName:"h3"},"optional"),")"),(0,a.kt)("p",null,"A custom success message to display, if the command has executed successfully.\nI none is provided, ",(0,a.kt)("strong",{parentName:"p"},"no")," message will be shown."),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"This can be used to e.g. let the player know why they suddenly have a new item in their inventory.")),(0,a.kt)("h2",{id:"usage-examples"},"Usage Examples"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"/data/<mod_id>/modonomicons/<book_id>/commands/test_command.json"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "/give @s minecraft:apple 1",\n  "max_uses": 1,\n  "permission_level": 2,\n  "success_message": "modonomicon.command.test_command.success"\n}\n')),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"/lang/*.json"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "modonomicon.command.test_command.success": "You got an apple, because reading is cool!",\n}\n')))}p.isMDXComponent=!0}}]);