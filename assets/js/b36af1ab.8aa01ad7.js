"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1742],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return d}});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=i.createContext({}),s=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=s(e.components);return i.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=s(n),d=a,k=m["".concat(c,".").concat(d)]||m[d]||u[d]||o;return n?i.createElement(k,r(r({ref:t},p),{},{components:n})):i.createElement(k,r({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,r=new Array(o);r[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,r[1]=l;for(var s=2;s<o;s++)r[s]=n[s];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3128:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return r},default:function(){return u},frontMatter:function(){return o},metadata:function(){return l},toc:function(){return s}});var i=n(3117),a=(n(7294),n(3905));const o={sidebar_position:10},r="Defining Multiblocks",l={unversionedId:"multiblocks/defining-multiblocks/defining-multiblocks",id:"multiblocks/defining-multiblocks/defining-multiblocks",title:"Defining Multiblocks",description:"Multiblock Files",source:"@site/docs/multiblocks/defining-multiblocks/defining-multiblocks.md",sourceDirName:"multiblocks/defining-multiblocks",slug:"/multiblocks/defining-multiblocks/",permalink:"/modonomicon/docs/multiblocks/defining-multiblocks/",draft:!1,editUrl:"https://github.com/klikli-dev/modonomicon/tree/documentation/docs/multiblocks/defining-multiblocks/defining-multiblocks.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10},sidebar:"tutorialSidebar",previous:{title:"Multiblocks",permalink:"/modonomicon/docs/multiblocks/"},next:{title:"Dense Multiblocks",permalink:"/modonomicon/docs/multiblocks/defining-multiblocks/dense-multiblocks"}},c={},s=[{value:"Multiblock Files",id:"multiblock-files",level:2},{value:"Multiblock Types",id:"multiblock-types",level:2},{value:"Mapping",id:"mapping",level:2},{value:"Default Mappings and Special Characters",id:"default-mappings-and-special-characters",level:2},{value:"Multiblock Center: <code>0</code>",id:"multiblock-center-0",level:3},{value:"Air: <code>\xa0</code> (space character)",id:"air--space-character",level:3},{value:"Any: <code>_</code>",id:"any-_",level:3}],p={toc:s};function u(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,i.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"defining-multiblocks"},"Defining Multiblocks"),(0,a.kt)("h2",{id:"multiblock-files"},"Multiblock Files"),(0,a.kt)("p",null,"Multiblocks are defined in ",(0,a.kt)("inlineCode",{parentName:"p"},".json")," files in ",(0,a.kt)("inlineCode",{parentName:"p"},"/resources/data/<modid>/modonomicon_multiblocks/*.json"),". The file name is the ID of the multiblock."),(0,a.kt)("h2",{id:"multiblock-types"},"Multiblock Types"),(0,a.kt)("p",null,"The exact structure of the multiblock file depends on the type of multiblock: ",(0,a.kt)("strong",{parentName:"p"},"dense")," or ",(0,a.kt)("strong",{parentName:"p"},"sparse"),".\nThey differ in how the ",(0,a.kt)("em",{parentName:"p"},"pattern"),", that is, their shape, is defined. See ",(0,a.kt)("a",{parentName:"p",href:"./dense-multiblocks"},"Dense Multiblocks")," and ",(0,a.kt)("a",{parentName:"p",href:"./sparse-multiblocks"},"Sparse Multiblocks")," for details."),(0,a.kt)("p",null,"What they have in common is how the ",(0,a.kt)("em",{parentName:"p"},"mapping")," is defined, that is, how each block in the pattern is matched to a block in the world."),(0,a.kt)("p",null,"The type is defined via the ",(0,a.kt)("inlineCode",{parentName:"p"},"type")," field in the multiblock definition JSON file:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "type": "<modonomicon:dense>|<modonomicon:spare>",\n  "pattern": [\n     //...\n  ],\n  "mapping": {\n    //...\n  }\n}\n')),(0,a.kt)("h2",{id:"mapping"},"Mapping"),(0,a.kt)("p",null,"The mapping is defined in the ",(0,a.kt)("inlineCode",{parentName:"p"},"mapping")," field of the multiblock definition. It is a JSON object that consists of key-value pairs. They key is a character that will be used in the pattern to represent the block, and the value is a ",(0,a.kt)("a",{parentName:"p",href:"../state-matchers/"},"Block Matcher")," that defines how the block is matched."),(0,a.kt)("p",null,"You can use any character you want as a key, however you may only use one character per key, not multiple. Additionally you should be careful with ",(0,a.kt)("a",{parentName:"p",href:"#default-mappings-and-special-characters"},"Default Mappings and Special Characters"),"."),(0,a.kt)("p",null,"A mapping can look something like this: "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'\n"mapping": {\n    "N": {\n      "type": "modonomicon:blockstate",\n      "block": "minecraft:oak_stairs[facing=north]"\n    },\n    "S":  {\n      "type": "modonomicon:blockstate",\n      "block": "minecraft:oak_stairs[facing=south]"\n    },\n    //...\n}\n')),(0,a.kt)("p",null,"In this case the character ",(0,a.kt)("inlineCode",{parentName:"p"},"N")," will be used to represent a north-facing oak stair, and ",(0,a.kt)("inlineCode",{parentName:"p"},"S")," will be used to represent a south-facing oak stair in the pattern. Both will be matched based on their BlockState, meaning that BlockState properties, such as in this case the facing, will be checked. If you place a stair in the world that is facing the wrong direction, the multiblock will not be recognized as valid."),(0,a.kt)("p",null,"Make sure to familiarize yourself with the available ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("a",{parentName:"strong",href:"../state-matchers/"},"State Matchers"))," to find the best way to define your multiblock."),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},'Different State Matcher types have different use cases. For example, the "Display" state matcher can be used to e.g. show ground blocks in a multiblock preview in the book for better visibility, but these blocks will not be checked against the multiblock defition, meaning ',(0,a.kt)("em",{parentName:"p"},"any")," block can be used in the world instead. ")),(0,a.kt)("h2",{id:"default-mappings-and-special-characters"},"Default Mappings and Special Characters"),(0,a.kt)("p",null,"Some characters have a default mapping or a special meaning."),(0,a.kt)("h3",{id:"multiblock-center-0"},"Multiblock Center: ",(0,a.kt)("inlineCode",{parentName:"h3"},"0")),(0,a.kt)("p",null,"The center of the multiblock is defined by the character ",(0,a.kt)("inlineCode",{parentName:"p"},"0"),".\nIt is used to determine the position of the multiblock in the world."),(0,a.kt)("p",null,"By default ",(0,a.kt)("inlineCode",{parentName:"p"},"0")," is mapped to ",(0,a.kt)("a",{parentName:"p",href:"#air--space-character"},'"Air"'),".\nIf you want the center of the multiblock to be any other block, simply create your own entry in the ",(0,a.kt)("inlineCode",{parentName:"p"},"mapping")," field, such as:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},' "0": {\n    "type": "modonomicon:block",\n    "block": "minecraft:skeleton_skull"\n}\n')),(0,a.kt)("p",null,"In this case a Skeleton Skull would become our center."),(0,a.kt)("h3",{id:"air--space-character"},"Air: ",(0,a.kt)("code",null,"\xa0")," (space character)"),(0,a.kt)("p",null,'By default "Air" is represented by the space character ',(0,a.kt)("code",null,"\xa0"),".",(0,a.kt)("br",{parentName:"p"}),"\n","Air means that this block must be empty in the multiblock. Players must remove any blocks that may exist in this space to get a valid multiblock.\nThe in-world multiblock preview will display a small transparent red block in this space to indicate that it must be removed."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},'You can also map other characters to "Air" using the ',(0,a.kt)("a",{parentName:"p",href:"../state-matchers/predicate-matcher#air-predicate"},"Air Predicate Matcher Type"),", or map ",(0,a.kt)("code",null,"\xa0")," to a different block, but this is generally not recommended.")),(0,a.kt)("h3",{id:"any-_"},"Any: ",(0,a.kt)("inlineCode",{parentName:"h3"},"_")),(0,a.kt)("p",null,'"Any" block is represented by the underscore ',(0,a.kt)("inlineCode",{parentName:"p"},"_"),".",(0,a.kt)("br",{parentName:"p"}),"\n","This means that Air, or any other Block may be used in this space."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},'Just like Air, you can also map other characters to "Any" using the ',(0,a.kt)("a",{parentName:"p",href:"../state-matchers/any-matcher"},"Any Matcher"),", or map ",(0,a.kt)("inlineCode",{parentName:"p"},"_")," to a different block, but again, this is generally not recommended.")))}u.isMDXComponent=!0}}]);