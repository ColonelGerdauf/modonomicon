"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[26],{3905:function(e,n,o){o.d(n,{Zo:function(){return d},kt:function(){return p}});var r=o(7294);function t(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function i(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.push.apply(o,r)}return o}function a(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?i(Object(o),!0).forEach((function(n){t(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))}))}return e}function l(e,n){if(null==e)return{};var o,r,t=function(e,n){if(null==e)return{};var o,r,t={},i=Object.keys(e);for(r=0;r<i.length;r++)o=i[r],n.indexOf(o)>=0||(t[o]=e[o]);return t}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)o=i[r],n.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(t[o]=e[o])}return t}var s=r.createContext({}),c=function(e){var n=r.useContext(s),o=n;return e&&(o="function"==typeof e?e(n):a(a({},n),e)),o},d=function(e){var n=c(e.components);return r.createElement(s.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},u=r.forwardRef((function(e,n){var o=e.components,t=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=c(o),p=t,h=u["".concat(s,".").concat(p)]||u[p]||m[p]||i;return o?r.createElement(h,a(a({ref:n},d),{},{components:o})):r.createElement(h,a({ref:n},d))}));function p(e,n){var o=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var i=o.length,a=new Array(i);a[0]=u;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:t,a[1]=l;for(var c=2;c<i;c++)a[c]=o[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,o)}u.displayName="MDXCreateElement"},7027:function(e,n,o){o.r(n),o.d(n,{assets:function(){return s},contentTitle:function(){return a},default:function(){return m},frontMatter:function(){return i},metadata:function(){return l},toc:function(){return c}});var r=o(3117),t=(o(7294),o(3905));const i={sidebar_position:20,title:"Error Handling"},a=void 0,l={unversionedId:"advanced/error-handling",id:"advanced/error-handling",title:"Error Handling",description:"Depending on the type of error there are different ways Modonomicon will handle them.",source:"@site/docs/advanced/error-handling.md",sourceDirName:"advanced",slug:"/advanced/error-handling",permalink:"/modonomicon/docs/advanced/error-handling",draft:!1,editUrl:"https://github.com/klikli-dev/modonomicon/tree/documentation/docs/advanced/error-handling.md",tags:[],version:"current",sidebarPosition:20,frontMatter:{sidebar_position:20,title:"Error Handling"},sidebar:"tutorialSidebar",previous:{title:"Localization",permalink:"/modonomicon/docs/advanced/localization"}},s={},c=[{value:"JSON Syntax Errors",id:"json-syntax-errors",level:2},{value:"Finding JSON Syntax Errors in the Log",id:"finding-json-syntax-errors-in-the-log",level:3},{value:"Errors handled by Modonomicon",id:"errors-handled-by-modonomicon",level:2},{value:"Finding Modonomicon Errors in the Log",id:"finding-modonomicon-errors-in-the-log",level:3},{value:"Error Screen",id:"error-screen",level:3}],d={toc:c};function m(e){let{components:n,...i}=e;return(0,t.kt)("wrapper",(0,r.Z)({},d,i,{components:n,mdxType:"MDXLayout"}),(0,t.kt)("p",null,"Depending on the type of error there are different ways Modonomicon will handle them.\nSyntax errors in the JSON files representing your book will be caught by Minecraft's ",(0,t.kt)("inlineCode",{parentName:"p"},"SimpleJsonResourceReloadListener"),", while any errors later in the loading process will be caught by the Modonomicon's own error handler."),(0,t.kt)("h2",{id:"json-syntax-errors"},"JSON Syntax Errors"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"will show up as ",(0,t.kt)("inlineCode",{parentName:"li"},"ERROR")," in the log files.")),(0,t.kt)("admonition",{type:"danger"},(0,t.kt)("p",{parentName:"admonition"},'JSON Syntax Errors will in most cases not be shown in-game, only in the log, leading to "silent failures"!\nMake sure to check your log files for errors before releasing your book.')),(0,t.kt)("p",null,"Any errors in the json syntax will generally only show up in the log files, because they occur in Minecraft's loading logic, before Modonomicon receives the file content. In some cases they can cause follow-up errors (e.g. because an entry is missing) in Modonomicon's error handler and will be shown in-game."),(0,t.kt)("p",null,"In Singleplayer you will find the error log in your ",(0,t.kt)("inlineCode",{parentName:"p"},"/logs/latest.log")," file in your Minecraft installation directory. In Multiplayer that's in the ",(0,t.kt)("inlineCode",{parentName:"p"},"/logs/latest.log")," file in your server's ",(0,t.kt)("inlineCode",{parentName:"p"},"/logs")," directory."),(0,t.kt)("p",null,"The log could be e.g. as follows for an extra comma where there shouldn't be one: "),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"[minecraft/SimpleJsonResourceReloadListener]: Couldn't parse data file modonomicon:test/entries/test_category/test_entry_child from modonomicon:modonomicons/test/entries/test_category/test_entry_child.json\ncom.google.gson.JsonParseException: com.google.gson.stream.MalformedJsonException: Use JsonReader.setLenient(true) to accept malformed JSON at line 30 column 4 path $.pages[3]\n")),(0,t.kt)("admonition",{type:"caution"},(0,t.kt)("p",{parentName:"admonition"},"If loading a JSON file fails server-side, there will not be any log on the client side (Minecraft loads the JSONs only server-side).\nMake sure to test your book in both SP and MP.")),(0,t.kt)("h3",{id:"finding-json-syntax-errors-in-the-log"},"Finding JSON Syntax Errors in the Log"),(0,t.kt)("p",null,"Search log files for:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"minecraft/SimpleJsonResourceReloadListener")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"com.google.gson.JsonParseException"))),(0,t.kt)("p",null,"to find any errors handled by Minecraft that never reach Modonomicon."),(0,t.kt)("h2",{id:"errors-handled-by-modonomicon"},"Errors handled by Modonomicon"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"will show up as ",(0,t.kt)("inlineCode",{parentName:"li"},"WARN")," in the log files.")),(0,t.kt)("p",null,"Modonomicon will attempt to handle errors gracefully - that means, the player will not crash, but instead will see a book screen with the error message, and a hint to check the log for further errors."),(0,t.kt)("p",null,"Errors come with as much context as possible, that means the error handler will attempt to include the book, category, entry, page and potentially even page content element the error is associated with. "),(0,t.kt)("p",null,"For example, an invalid link within a book page could produce the following error message:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"[<time>] [Render thread/WARN] [co.kl.mo.Modonomicon/]: BookErrorManager.error() called for book: modonomicon:test with error: BookErrorInfo{ \nerrorMessage='Failed to render markdown for book 'modonomicon:test'', \ncontext='Link: entry://modonomicon:test/test_category/test_entry@test_anchor, \nCategory: modonomicon:test_category, \nEntry: modonomicon:test_category/test_entry_child, \nPage: 2', \nexception='java.lang.IllegalArgumentException: Invalid entry link, anchor not found in entry: modonomicon:test/test_category/test_entry@test_anchor'\n}\n")),(0,t.kt)("admonition",{type:"caution"},(0,t.kt)("p",{parentName:"admonition"},"If you notice any issues such as crashes or log entries, but no Modonomicon error log in the above format or no Modonomicon error screen shown, please report this at ",(0,t.kt)("a",{parentName:"p",href:"https://github.com/klikli-dev/modonomicon/issues"},"https://github.com/klikli-dev/modonomicon/issues")," ")),(0,t.kt)("h3",{id:"finding-modonomicon-errors-in-the-log"},"Finding Modonomicon Errors in the Log"),(0,t.kt)("p",null,"Search log files for ",(0,t.kt)("inlineCode",{parentName:"p"},"BookErrorManager.error() called for book")," to find any errors handled by Modonomicon."),(0,t.kt)("h3",{id:"error-screen"},"Error Screen"),(0,t.kt)("p",null,"The error screen for the above error message would look like this:"),(0,t.kt)("p",null,(0,t.kt)("img",{alt:"Error Screen",src:o(78).Z,width:"1114",height:"736"})))}m.isMDXComponent=!0},78:function(e,n,o){n.Z=o.p+"assets/images/error-window-e94590424eed1f65a739e0fb916c76c7.png"}}]);