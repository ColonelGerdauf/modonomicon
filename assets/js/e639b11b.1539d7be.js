"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8083],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>k});var n=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=n.createContext({}),d=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=d(e.components);return n.createElement(s.Provider,{value:t},e.children)},m="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},g=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=d(a),g=o,k=m["".concat(s,".").concat(g)]||m[g]||h[g]||r;return a?n.createElement(k,i(i({ref:t},p),{},{components:a})):n.createElement(k,i({ref:t},p))}));function k(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,i=new Array(r);i[0]=g;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[m]="string"==typeof e?e:o,i[1]=l;for(var d=2;d<r;d++)i[d]=a[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}g.displayName="MDXCreateElement"},582:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var n=a(7462),o=(a(7294),a(3905));const r={sidebar_position:40},i="Step 4: Adding texts",l={unversionedId:"getting-started/step-by-step-with-datagen/step4",id:"getting-started/step-by-step-with-datagen/step4",title:"Step 4: Adding texts",description:'Finally, it is time to add our texts. That means we will now tell the game what texts to display for all the language keys (or "Description Ids") we have seen in the previous step.',source:"@site/docs/getting-started/step-by-step-with-datagen/step4.md",sourceDirName:"getting-started/step-by-step-with-datagen",slug:"/getting-started/step-by-step-with-datagen/step4",permalink:"/modonomicon/docs/getting-started/step-by-step-with-datagen/step4",draft:!1,editUrl:"https://github.com/klikli-dev/modonomicon/tree/documentation/docs/getting-started/step-by-step-with-datagen/step4.md",tags:[],version:"current",sidebarPosition:40,frontMatter:{sidebar_position:40},sidebar:"tutorialSidebar",previous:{title:"Step 3: Creating the Book",permalink:"/modonomicon/docs/getting-started/step-by-step-with-datagen/step3"},next:{title:"Maven Dependencies",permalink:"/modonomicon/docs/getting-started/maven-dependencies"}},s={},d=[{value:"Adding translations for the Book Name and Tooltip",id:"adding-translations-for-the-book-name-and-tooltip",level:2},{value:"Adding translations for the Features Category",id:"adding-translations-for-the-features-category",level:2},{value:"Adding translations for our Entry and Pages",id:"adding-translations-for-our-entry-and-pages",level:2},{value:"Results",id:"results",level:2}],p={toc:d},m="wrapper";function h(e){let{components:t,...r}=e;return(0,o.kt)(m,(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"step-4-adding-texts"},"Step 4: Adding texts"),(0,o.kt)("p",null,'Finally, it is time to add our texts. That means we will now tell the game what texts to display for all the language keys (or "Description Ids") we have seen in the previous step. '),(0,o.kt)("p",null,"Modonomicon allows to access LanguageProviders in the book provider, so it is very easy to add texts alongside the book structure."),(0,o.kt)("p",null,"If you are impatient you can skip ahead to ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"#results"},"Results"))," to see what we will be creating."),(0,o.kt)("h2",{id:"adding-translations-for-the-book-name-and-tooltip"},"Adding translations for the Book Name and Tooltip"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Open ",(0,o.kt)("inlineCode",{parentName:"li"},"DemoBookProvider.java")),(0,o.kt)("li",{parentName:"ol"},"Into the existing method ",(0,o.kt)("inlineCode",{parentName:"li"},"makeDemoBook")," add below ",(0,o.kt)("inlineCode",{parentName:"li"},"helper.book(bookName);"),":",(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-java"},'//we can reference the language providers in the book provider\nthis.lang().add(helper.bookName(), "Demo Book"); //and now we add the actual textual book name\nthis.lang().add(helper.bookTooltip(), "A book to showcase & test Modonomicon features."); //and the tooltip text\n'))),(0,o.kt)("li",{parentName:"ol"},"Optionally, you can add translations, by their language code:",(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-java"},'this.lang("es_es").add(helper.bookName(), "Libro de demostraci\xf3n");\nthis.lang("es_es").add(helper.bookTooltip(), "Un libro para mostrar y probar las funciones de Modonomicon."); \n')))),(0,o.kt)("p",null,"What is happening here? ",(0,o.kt)("inlineCode",{parentName:"p"},"this.lang().add(<language key>, <text>)")," adds a mapping for a given translation key, which we get from our helper, to the given text. The game will then display the text wherever the translation key is used in the book. Under the hood ",(0,o.kt)("inlineCode",{parentName:"p"},".lang()")," simply gives us a reference to a LanguageProvider that works just like any forge language provider, the only special element is that we get the translation key / description id from our helper. "),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"In order for translations to work a corresponding language provider must be handed over to the DemoBookProvider in the DataGenerators.java file!")),(0,o.kt)("p",null,"Let's take a look at our all-new translated book item:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"In the terminal, run ",(0,o.kt)("inlineCode",{parentName:"li"},"./gradlew runData")," to generate the json file(s)."),(0,o.kt)("li",{parentName:"ol"},"After it is complete, run ",(0,o.kt)("inlineCode",{parentName:"li"},"./gradlew runClient")," to start Minecraft."),(0,o.kt)("li",{parentName:"ol"},"Re-join our old world."),(0,o.kt)("li",{parentName:"ol"},"Hover over the book item - you should now see the name and tooltip we just added, instead of the language key we saw before.")),(0,o.kt)("h2",{id:"adding-translations-for-the-features-category"},"Adding translations for the Features Category"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Open ",(0,o.kt)("inlineCode",{parentName:"li"},"DemoBookProvider.java")),(0,o.kt)("li",{parentName:"ol"},"In the method ",(0,o.kt)("inlineCode",{parentName:"li"},"makeFeaturesCategory")," add below ",(0,o.kt)("inlineCode",{parentName:"li"},'helper.category("features");'),": ",(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-java"},'this.lang().add(helper.categoryName(), "Features Category"); //and provide the category name text\n//here is where you would provide translations, as above with the book name and tooltip\n')))),(0,o.kt)("p",null,"Now we can test our translated category:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"In the terminal, run ",(0,o.kt)("inlineCode",{parentName:"li"},"./gradlew runData")," to generate the json file(s)."),(0,o.kt)("li",{parentName:"ol"},"After it is complete, run ",(0,o.kt)("inlineCode",{parentName:"li"},"./gradlew runClient")," to start Minecraft."),(0,o.kt)("li",{parentName:"ol"},"Re-join our old world."),(0,o.kt)("li",{parentName:"ol"},"Open the book by right-clicking with the book item."),(0,o.kt)("li",{parentName:"ol"},"Hover over the category button on the top leftyou should now see the correct name.")),(0,o.kt)("h2",{id:"adding-translations-for-our-entry-and-pages"},"Adding translations for our Entry and Pages"),(0,o.kt)("p",null,"Finally it is time to add our page texts!"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Open ",(0,o.kt)("inlineCode",{parentName:"p"},"DemoBookProvider.java"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Find the method ",(0,o.kt)("inlineCode",{parentName:"p"},"makeMultiblockEntry"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Below ",(0,o.kt)("inlineCode",{parentName:"p"},'helper.entry("multiblock");')," add: "),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-java"},'this.lang().add(helper.entryName(), "Multiblock Entry"); //provide the entry name\nthis.lang().add(helper.entryDescription(), "An entry showcasing a multiblock."); //and description\n')),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("em",{parentName:"p"},"This adds the text for hovering over the entry in the category/quest view")," ")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Below ",(0,o.kt)("inlineCode",{parentName:"p"},'helper.page("intro"); ... .build();'),' (= after the lines that create the "multiBlockIntroPage") add: '),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-java"},'this.lang().add(helper.pageTitle(), "Multiblock Page"); //page title\nthis.lang().add(helper.pageText(), "Multiblock pages allow to preview multiblocks both in the book and in the world."); //page text\n')),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("em",{parentName:"p"},"This adds the page text for the intro page")," "))),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},"Below ",(0,o.kt)("inlineCode",{parentName:"li"},'helper.page("multiblock"); ... .build();'),' (= after the lines that create the "multiblockPreviewPage") add: ',(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-java"},'//now provide the multiblock name\n//the lang helper does not handle multiblocks, so we manually add the same key we provided in the DemoBookProvider\nthis.lang().add("multiblocks.modonomicon_demo_book.blockentity", "Blockentity Multiblock.");\n//and the multiblock page text\nthis.lang().add(helper.pageText(), "A sample multiblock.");\n')),(0,o.kt)("em",{parentName:"li"},"This adds the name for the multiblock, and the page text for the multiblock preview page")," ")),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"If a text element - such as a title or text - is shown is governed in the BookXYZPageModel. If we e.g. do not call the ",(0,o.kt)("inlineCode",{parentName:"p"},"withTitle()")," method, there will not be a title on that page. Calls to this.lang().add() we only provide the text. If we do not provide a text for any element the language key will be shown in game, reminding us to add a translation.")),(0,o.kt)("p",null,"Now let's take the entry and pages for a spin:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"In the terminal, run ",(0,o.kt)("inlineCode",{parentName:"li"},"./gradlew runData")," to generate the json file(s)."),(0,o.kt)("li",{parentName:"ol"},"After it is complete, run ",(0,o.kt)("inlineCode",{parentName:"li"},"./gradlew runClient")," to start Minecraft."),(0,o.kt)("li",{parentName:"ol"},"Re-join our old world."),(0,o.kt)("li",{parentName:"ol"},"Open the book by right-clicking with the book item."),(0,o.kt)("li",{parentName:"ol"},"Hover over the entry to see the name and description in the tooltip."),(0,o.kt)("li",{parentName:"ol"},"Click the entry to open it."),(0,o.kt)("li",{parentName:"ol"},"You should see the page texts:\n",(0,o.kt)("img",{alt:"Entry Texts",src:a(5609).Z,width:"1920",height:"1009"}))),(0,o.kt)("h2",{id:"results"},"Results"),(0,o.kt)("p",null,"You can view the final code for this step in the branch for step 3: ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/klikli-dev/modonomicon-demo-book/tree/guide/step4"},"https://github.com/klikli-dev/modonomicon-demo-book/tree/guide/step4")," "),(0,o.kt)("p",null,'Using the green "Code" Button and "Download ZIP" you can download the code for this step as a zip file to compare to your code.'))}h.isMDXComponent=!0},5609:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/step4-add-entry-texts-4cadd097589036bfa420f753a928c587.png"}}]);