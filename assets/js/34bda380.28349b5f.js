"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2264],{3905:function(e,t,o){o.d(t,{Zo:function(){return p},kt:function(){return u}});var n=o(7294);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function r(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,n,a=function(e,t){if(null==e)return{};var o,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}var d=n.createContext({}),s=function(e){var t=n.useContext(d),o=t;return e&&(o="function"==typeof e?e(t):r(r({},t),e)),o},p=function(e){var t=s(e.components);return n.createElement(d.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var o=e.components,a=e.mdxType,i=e.originalType,d=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=s(o),u=a,h=c["".concat(d,".").concat(u)]||c[u]||m[u]||i;return o?n.createElement(h,r(r({ref:t},p),{},{components:o})):n.createElement(h,r({ref:t},p))}));function u(e,t){var o=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=o.length,r=new Array(i);r[0]=c;var l={};for(var d in t)hasOwnProperty.call(t,d)&&(l[d]=t[d]);l.originalType=e,l.mdxType="string"==typeof e?e:a,r[1]=l;for(var s=2;s<i;s++)r[s]=o[s];return n.createElement.apply(null,r)}return n.createElement.apply(null,o)}c.displayName="MDXCreateElement"},9983:function(e,t,o){o.r(t),o.d(t,{assets:function(){return d},contentTitle:function(){return r},default:function(){return m},frontMatter:function(){return i},metadata:function(){return l},toc:function(){return s}});var n=o(3117),a=(o(7294),o(3905));const i={sidebar_position:20},r="Step by Step Guide for Book Datagen",l={unversionedId:"getting-started-mod-devs/step-by-step-with-datagen",id:"getting-started-mod-devs/step-by-step-with-datagen",title:"Step by Step Guide for Book Datagen",description:"This page will guide you through the recommended and most convenient way to create a book.",source:"@site/docs/getting-started-mod-devs/step-by-step-with-datagen.md",sourceDirName:"getting-started-mod-devs",slug:"/getting-started-mod-devs/step-by-step-with-datagen",permalink:"/modonomicon/docs/getting-started-mod-devs/step-by-step-with-datagen",draft:!1,editUrl:"https://github.com/klikli-dev/modonomicon/tree/documentation/docs/getting-started-mod-devs/step-by-step-with-datagen.md",tags:[],version:"current",sidebarPosition:20,frontMatter:{sidebar_position:20},sidebar:"tutorialSidebar",previous:{title:"Getting Started - Mod Devs",permalink:"/modonomicon/docs/getting-started-mod-devs/"},next:{title:"Manual Book Editing",permalink:"/modonomicon/docs/getting-started-mod-devs/manual-book-editing"}},d={},s=[{value:"Book Creation Demo Project",id:"book-creation-demo-project",level:2},{value:"For Mod Developers",id:"for-mod-developers",level:3},{value:"For Modpack Creators",id:"for-modpack-creators",level:3},{value:"Understanding the Demo Project Repository",id:"understanding-the-demo-project-repository",level:2},{value:"Step 0: The Editor of your Choice",id:"step-0-the-editor-of-your-choice",level:2},{value:"Step 1: Setting up the Demo Project",id:"step-1-setting-up-the-demo-project",level:2},{value:"Installing OpenJDK",id:"installing-openjdk",level:3},{value:"Downloading the Demo Project",id:"downloading-the-demo-project",level:3},{value:"via Git (Mod Developers)",id:"via-git-mod-developers",level:4},{value:"via ZIP File (Modpack Creators)",id:"via-zip-file-modpack-creators",level:4},{value:"First Test Run",id:"first-test-run",level:3},{value:"IDE Setup",id:"ide-setup",level:4},{value:"Running Minecraft",id:"running-minecraft",level:4},{value:"Step 2: A first look at the Demo Project",id:"step-2-a-first-look-at-the-demo-project",level:2},{value:"Demo Project File Structure",id:"demo-project-file-structure",level:3},{value:"Interlude for Mod developers: Copying relevant files",id:"interlude-for-mod-developers-copying-relevant-files",level:3},{value:"A closer look at the existing files",id:"a-closer-look-at-the-existing-files",level:3},{value:"ModonomiconDemoBook.java",id:"modonomicondemobookjava",level:4},{value:"DataGenerators.java",id:"datageneratorsjava",level:4},{value:"DemoBookProvider.java",id:"demobookproviderjava",level:4},{value:"EnUsProvider.java",id:"enusproviderjava",level:4},{value:"Step 3: Creating the Book",id:"step-3-creating-the-book",level:2},{value:"Our first Book",id:"our-first-book",level:3},{value:"Our first Category",id:"our-first-category",level:3},{value:"Our first Entry",id:"our-first-entry",level:3},{value:"Time for texts!",id:"time-for-texts",level:3},{value:"Step 4: Working on Content",id:"step-4-working-on-content",level:2}],p={toc:s};function m(e){let{components:t,...i}=e;return(0,a.kt)("wrapper",(0,n.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"step-by-step-guide-for-book-datagen"},"Step by Step Guide for Book Datagen"),(0,a.kt)("p",null,"This page will guide you through the recommended and most convenient way to create a book. "),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"If you run into any issues or have any questions, join our Discord: ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("a",{parentName:"strong",href:"https://invite.gg/klikli"},"https://invite.gg/klikli")))),(0,a.kt)("h2",{id:"book-creation-demo-project"},"Book Creation Demo Project"),(0,a.kt)("p",null,"To show how to create a book with datagen, we have created a demo project that you can use as a starting point for your own book. "),(0,a.kt)("p",null,"You can find the files at ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("a",{parentName:"strong",href:"https://github.com/klikli-dev/modonomicon-demo-book"},"https://github.com/klikli-dev/modonomicon-demo-book"))),(0,a.kt)("h3",{id:"for-mod-developers"},"For Mod Developers"),(0,a.kt)("p",null,"You can copy and paste code from the Demo Project into your own mod.\nPlease also see ",(0,a.kt)("a",{parentName:"p",href:"./maven-dependencies"},"Maven Dependencies")," for information on how to set up the Modonomicon dependency (alternatively, look into the ",(0,a.kt)("inlineCode",{parentName:"p"},"build.gradle")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"gradle.properties")," files of the demo project)."),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"Please note that you cannot mix a manually created ",(0,a.kt)("inlineCode",{parentName:"p"},"lang/*.json")," file with language datagen (datagen will override your manually created file).\nHowever, it is best practice to datagen all your lang files anyway.")),(0,a.kt)("h3",{id:"for-modpack-creators"},"For Modpack Creators"),(0,a.kt)("p",null,"You can use the Demo Project to generate JSON files that you can copy into your modpack's datapack/resourcepack."),(0,a.kt)("p",null,"The generated files for the book will end up in ",(0,a.kt)("inlineCode",{parentName:"p"},"/src/generated/resources/data/modonomicon_demo_book/"),", while the generated language files can be found in ",(0,a.kt)("inlineCode",{parentName:"p"},"/src/generated/resources/assets/modonomicon_demo_book/lang/"),"."),(0,a.kt)("p",null,"Follow this guide to learn how to generate your own files."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"No Java or other programming knowledge is needed to use the Demo Project, but programming knowledge will be helpful if you want to automate the creation of the book to a higher degree.")),(0,a.kt)("h2",{id:"understanding-the-demo-project-repository"},"Understanding the Demo Project Repository"),(0,a.kt)("p",null,"The Demo Project will offer one git branch for each major step in this guide. A list of branches can be found here: ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/klikli-dev/modonomicon-demo-book/branches"},"https://github.com/klikli-dev/modonomicon-demo-book/branches")),(0,a.kt)("p",null,'The branch "main", which you also see when opening ',(0,a.kt)("a",{parentName:"p",href:"https://github.com/klikli-dev/modonomicon-demo-book"},"https://github.com/klikli-dev/modonomicon-demo-book"),", contains the final result of the guide, including the generated files."),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},'If you do not know what a "git branch" is - worry not. Think of it as one snapshot of the demo project that you can download that corresponds to the current step in this guide.')),(0,a.kt)("h2",{id:"step-0-the-editor-of-your-choice"},"Step 0: The Editor of your Choice"),(0,a.kt)("p",null,"You can use any text editor you like to create the book."),(0,a.kt)("p",null,"For convenience, and if you are familiar with it, we recommend using ",(0,a.kt)("a",{parentName:"p",href:"https://www.jetbrains.com/idea/download/"},"Intellij Community Version"),", however other Editors such as Eclipse and Visual Studio Code will work as well."),(0,a.kt)("p",null,"The guide will mostly be editor-agnostic, but we will provide some tips for Intellij users. Steps are very similar for users of other IDEs."),(0,a.kt)("h2",{id:"step-1-setting-up-the-demo-project"},"Step 1: Setting up the Demo Project"),(0,a.kt)("h3",{id:"installing-openjdk"},"Installing OpenJDK"),(0,a.kt)("p",null,"The Demo Project uses the Forge Mod loader, which requires OpenJDK 17 installed on your system.\nStart by installing OpenJDK 17 from ",(0,a.kt)("a",{parentName:"p",href:"https://adoptium.net/temurin/releases/?version=17"},"https://adoptium.net/temurin/releases/?version=17"),"."),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"Make sure to select your correct operating system, and a 64 bit version of the JDK.",(0,a.kt)("br",{parentName:"p"}),"\n","32 bit is not fully supported by Forge.")),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},'If the installer asks to "Add Java to PATH" and or "Set JAVA_HOME" please accept / check the corresponding boxes.')),(0,a.kt)("h3",{id:"downloading-the-demo-project"},"Downloading the Demo Project"),(0,a.kt)("p",null,"For the purposes of this Guide we will start with an empty version of the Demo Project."),(0,a.kt)("h4",{id:"via-git-mod-developers"},"via Git (Mod Developers)"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Open terminal"),(0,a.kt)("li",{parentName:"ol"},"Go to a folder of your choice that you want to work in "),(0,a.kt)("li",{parentName:"ol"},"Run ",(0,a.kt)("inlineCode",{parentName:"li"},"git clone git@github.com:klikli-dev/modonomicon-demo-book.git")," "),(0,a.kt)("li",{parentName:"ol"},"Run ",(0,a.kt)("inlineCode",{parentName:"li"},"git branch guide/step1"))),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"If you know what you are doing you can also skip ahead by skipping step 4, as step 3 will give you the final version of the Demo Project, allowing you to directly edit the provided files.")),(0,a.kt)("h4",{id:"via-zip-file-modpack-creators"},"via ZIP File (Modpack Creators)"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Go to ",(0,a.kt)("a",{parentName:"li",href:"https://github.com/klikli-dev/modonomicon-demo-book/tree/guide/step1"},"https://github.com/klikli-dev/modonomicon-demo-book/tree/guide/step1")," "),(0,a.kt)("li",{parentName:"ol"},'Click the green "Code" button'),(0,a.kt)("li",{parentName:"ol"},'Click "Download Zip"',(0,a.kt)("br",{parentName:"li"}),(0,a.kt)("img",{alt:"Download Zip",src:o(548).Z,width:"400",height:"349"})),(0,a.kt)("li",{parentName:"ol"},"Extract the downloaded zip file to a folder of your choice.")),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},'If you know what you are doing you can also skip ahead and download the "main" branch from ',(0,a.kt)("a",{parentName:"p",href:"https://github.com/klikli-dev/modonomicon-demo-book/tree/main"},"https://github.com/klikli-dev/modonomicon-demo-book/tree/main")," and directly edit the provided files.")),(0,a.kt)("h3",{id:"first-test-run"},"First Test Run"),(0,a.kt)("p",null,"The next steps are required to set up a minecraft development environment allowing you to run the datagen as well as minecraft locally for testing the generated files."),(0,a.kt)("h4",{id:"ide-setup"},"IDE Setup"),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"If you are not using an IDE you can skip this step.")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Open Terminal in the folder you downloaded the Demo Project to"),(0,a.kt)("li",{parentName:"ol"},"Generate run configurations:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"For IntelliJ Users: Run ",(0,a.kt)("inlineCode",{parentName:"li"},"./gradlew genIntellijRuns")," "),(0,a.kt)("li",{parentName:"ul"},"For Eclipse Users: Run ",(0,a.kt)("inlineCode",{parentName:"li"},"./gradlew genEclipseRuns")),(0,a.kt)("li",{parentName:"ul"},"For VSCode Users: Run ",(0,a.kt)("inlineCode",{parentName:"li"},"./gradlew genVSCodeRuns"))))),(0,a.kt)("p",null,"In future steps you can use the provided run configurations to run the datagen and minecraft, instead of the commands this guide will use."),(0,a.kt)("h4",{id:"running-minecraft"},"Running Minecraft"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Open Terminal in the folder you downloaded the Demo Project to."),(0,a.kt)("li",{parentName:"ol"},"Run ",(0,a.kt)("inlineCode",{parentName:"li"},"./gradlew runClient"),"."),(0,a.kt)("li",{parentName:"ol"},"After a few seconds (possibly minutes) Minecraft should open and show the main menu.   "),(0,a.kt)("li",{parentName:"ol"},"Success!")),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},'Not sure how to open the terminal in the folder?\nMost Operating Systems will allow you to right click or shift + right click in the folder and select "Open in Terminal" or similar.')),(0,a.kt)("h2",{id:"step-2-a-first-look-at-the-demo-project"},"Step 2: A first look at the Demo Project"),(0,a.kt)("h3",{id:"demo-project-file-structure"},"Demo Project File Structure"),(0,a.kt)("p",null,"First, take a minute to look at the folder structure of the test project.\nThe most intersting parts are in the ",(0,a.kt)("inlineCode",{parentName:"p"},"/src/")," folder, you can ignore the other folders and files for now."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"src\n+---generated\n|   \\---resources\n+---main\n|   +---java\n|   |   \\---com\n|   |       \\---klikli_dev\n|   |           \\---modonomicon_demo_book\n|   |               |   ModonomiconDemoBook.java\n|   |               |\n|   |               \\---datagen\n|   |                   |   DataGenerators.java\n|   |                   |   DemoBookProvider.java\n|   |                   |\n|   |                   \\---lang\n|   |                           EnUsProvider.java\n|   |\n|   \\---resources\n|       |   modonomicon.png\n|       |   pack.mcmeta\n|       |\n|       \\---META-INF\n|               mods.toml\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"/main/java/")," contains the source code files used to generate the book."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"/generated/")," contains the generated files.")),(0,a.kt)("h3",{id:"interlude-for-mod-developers-copying-relevant-files"},"Interlude for Mod developers: Copying relevant files"),(0,a.kt)("p",null,"At this point it might be a good idea to copy the ",(0,a.kt)("inlineCode",{parentName:"p"},"/datagen/")," folder and all contents into your mod.\nYou should skip ModonomiconDemoBook.java, it is the main mod class for the demo project, you should have your own main mod class."),(0,a.kt)("h3",{id:"a-closer-look-at-the-existing-files"},"A closer look at the existing files"),(0,a.kt)("h4",{id:"modonomicondemobookjava"},"ModonomiconDemoBook.java"),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"Modpack creators can and should skip this step.")),(0,a.kt)("p",null,"Interesting is only the line ",(0,a.kt)("inlineCode",{parentName:"p"},"modEventBus.addListener(DataGenerators::gatherData);"),": It registers our DataGenerator to run in Forge's GatherData event. Make sure to include it in your main mod class."),(0,a.kt)("h4",{id:"datageneratorsjava"},"DataGenerators.java"),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"Modpack creators can and should skip this step.")),(0,a.kt)("p",null,"This file registers the two Data Generators from the Demo Project - one that will generate the book, and one that will create the corresponding ",(0,a.kt)("inlineCode",{parentName:"p"},"/lang/*.json")," file. You may want to add more generators for other mod content here in the future. "),(0,a.kt)("h4",{id:"demobookproviderjava"},"DemoBookProvider.java"),(0,a.kt)("p",null,"In this file we will add instructions that will generate our book content, such as categories, entries and pages.\nPlease note that this will only create the structure of the book as well as all styling instructions, but not the actual texts the players will see. This is due to how minecraft's translation / multi language system works. "),(0,a.kt)("p",null,"For now this file is mostly empty - that's OK!"),(0,a.kt)("h4",{id:"enusproviderjava"},"EnUsProvider.java"),(0,a.kt)("p",null,'"EnUS" corresponds to the "en_us" in the line ',(0,a.kt)("inlineCode",{parentName:"p"},'super(generator, modid, "en_us");'),' in the upper region of the file.\nThis is the language code for the English language, meaning in this file we will generate English texts. If you want to provide translations for other languages, you can copy and rename the file, and change the language code to e.g. "fr_fr" for French.'),(0,a.kt)("p",null,'In Java the "class" name and file name must correspond. Thus, a hypothethical file FrFrProvider would have to look something like this:'),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'public class FrFrProvider extends LanguageProvider {\n   public FrFrProvider(DataGenerator generator, String modid) {\n        super(generator, modid, "fr_fr");\n    }\n}\n')),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"If you do create a second language - make sure to register it in the DataGenerators.java file as well!")),(0,a.kt)("h2",{id:"step-3-creating-the-book"},"Step 3: Creating the Book"),(0,a.kt)("p",null,"Now it is time to add code to generate our book, a first category and an entry with a page."),(0,a.kt)("h3",{id:"our-first-book"},"Our first Book"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Open ",(0,a.kt)("inlineCode",{parentName:"p"},"DemoBookProvider.java")," in your IDE or text editor.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"In the ",(0,a.kt)("inlineCode",{parentName:"p"},"generate")," method, add the following code:"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-java"},' //call our code that generates a book with the id "demo"\nvar demoBook = this.makeDemoBook("demo");\n\n//then add the book to the list of books to generate    \nthis.add(demoBook);\n')),(0,a.kt)("p",{parentName:"li"},'This will create a new book with the id "demo" (the code for that follows in the next step) and add it to the list of books to be generated.')),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Now we add the method we're calling above to the bottom of the file, before the last ",(0,a.kt)("inlineCode",{parentName:"p"},"}"),":"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-java"},'private BookModel makeDemoBook(String bookName) {\n    //The lang helper keeps track of the "DescriptionIds", that is, the language keys for translations, for us\n    var helper = ModonomiconAPI.get().getLangHelper(this.modid);\n\n    //we tell the helper the book we\'re in.\n    helper.book(bookName);\n\n    //Now we create the book with settings of our choosing\n    var demoBook = BookModel.builder()\n            .withId(this.modLoc(bookName)) //the id of the book. modLoc() prepends the mod id.\n            .withName(helper.bookName()) //the name of the book. The lang helper gives us the correct translation key.\n            .withTooltip(helper.bookTooltip()) //the hover tooltip for the book. Again we get a translation key.\n            .withGenerateBookItem(true) //auto-generate a book item for us.\n            .withModel(new ResourceLocation("modonomicon:modonomicon_red")) //use the default red modonomicon icon for the book\n            .withCreativeTab("modonomicon") //and put it in the modonomicon tab\n            .build();\n    return demoBook;\n}\n')))),(0,a.kt)("p",null,"Congratulations! This will generate a book for us. Let's test how that works!"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"In the terminal, run ",(0,a.kt)("inlineCode",{parentName:"li"},"./gradlew runData")," to generate the json file(s)."),(0,a.kt)("li",{parentName:"ol"},"After it is complete, run ",(0,a.kt)("inlineCode",{parentName:"li"},"./gradlew runClient")," to start Minecraft."),(0,a.kt)("li",{parentName:"ol"},"Create or join a world with cheats enabled."),(0,a.kt)("li",{parentName:"ol"},"Switch to creative mode with ",(0,a.kt)("inlineCode",{parentName:"li"},"/gamemode creative"),"."),(0,a.kt)("li",{parentName:"ol"},'Open the inventory and look for the "Modonomicon" creative tab or the search tab.'),(0,a.kt)("li",{parentName:"ol"},"There will be two purple books - the builtin modonomicon demos - and one red book, the one we just generated."),(0,a.kt)("li",{parentName:"ol"},"Take it into your hotbar and take a look at it",(0,a.kt)("ol",{parentName:"li"},(0,a.kt)("li",{parentName:"ol"},"You will notice a weird text for the name and tooltip: ",(0,a.kt)("inlineCode",{parentName:"li"},"book.modonomicon_demo_book.demo.name")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"book.modonomicon_demo_book.demo.tooltip")," This is because we haven't added any translations yet."))),(0,a.kt)("li",{parentName:"ol"},"Right click with the book in hand."),(0,a.kt)("li",{parentName:"ol"},"Crash! That's ok - if we do not add any categories the book does not know what to display. Let's fix that!")),(0,a.kt)("h3",{id:"our-first-category"},"Our first Category"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Open ",(0,a.kt)("inlineCode",{parentName:"p"},"DemoBookProvider.java"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Add the following code to the bottom of the file, before the last ",(0,a.kt)("inlineCode",{parentName:"p"},"}"),":"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-java"},'private BookCategoryModel makeFeaturesCategory(BookLangHelper helper, String categoryName) {\n    helper.category(categoryName); //tell our lang helper the category we are in\n\n    //the entry helper is the second helper for book datagen\n    //it allows us to place entries in the category without manually defining the coordinates.\n    //each letter can be used to represent an entry\n    var entryHelper = ModonomiconAPI.get().getEntryLocationHelper();\n    entryHelper.setMap(\n            "_____________________",\n            "__m______________d___",\n            "__________r__________",\n            "__c__________________",\n            "__________2___3___i__",\n            "__s_____e____________"\n    );\n\n    return BookCategoryModel.builder()\n            .withId(this.modLoc(categoryName)) //the id of the book. modLoc() prepends the mod id.\n            .withName(helper.categoryName()) //the name of the category. The lang helper gives us the correct translation key.\n            .withIcon("minecraft:nether_star") //the icon for the category. In this case we simply use an existing item.\n            .build();\n}\n'))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Now we need to add our category to the book. In ",(0,a.kt)("inlineCode",{parentName:"p"},"makeDemoBook")," add:"),(0,a.kt)("ol",{parentName:"li"},(0,a.kt)("li",{parentName:"ol"},"below ",(0,a.kt)("inlineCode",{parentName:"li"},"helper.book(bookName);"),":",(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-java"},'var featuresCategory = this.makeFeaturesCategory(helper, "features");\n'))),(0,a.kt)("li",{parentName:"ol"},"below ",(0,a.kt)("inlineCode",{parentName:"li"},'.withCreativeTab("modonomicon")'),":",(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-java"},".withCategories(featuresCategory) \n")))))),(0,a.kt)("p",null,'This will create a category with the id "features" using a nether star as icon and add it to our book. See also ',(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("a",{parentName:"strong",href:"/modonomicon/docs/basics/structure/categories#attributes"},"Categories"))," to learn more about the other attributes of a category, and how icons work.    "),(0,a.kt)("p",null,"We also already set up the entryHelper which gives us an idea where entries will be shown in the category in-game."),(0,a.kt)("p",null,"Let's see if that fixed our crash:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"In the terminal, run ",(0,a.kt)("inlineCode",{parentName:"li"},"./gradlew runData")," to generate the json file(s)."),(0,a.kt)("li",{parentName:"ol"},"After it is complete, run ",(0,a.kt)("inlineCode",{parentName:"li"},"./gradlew runClient")," to start Minecraft."),(0,a.kt)("li",{parentName:"ol"},"Re-join our old world."),(0,a.kt)("li",{parentName:"ol"},"Right click with the book in hand."),(0,a.kt)("li",{parentName:"ol"},"Et voila:\n",(0,a.kt)("img",{alt:"Category",src:o(9715).Z,width:"1920",height:"1009"})),(0,a.kt)("li",{parentName:"ol"},"Success! No crash, but no content either. Not too bad, right?")),(0,a.kt)("h3",{id:"our-first-entry"},"Our first Entry"),(0,a.kt)("h3",{id:"time-for-texts"},"Time for texts!"),(0,a.kt)("h2",{id:"step-4-working-on-content"},"Step 4: Working on Content"))}m.isMDXComponent=!0},548:function(e,t,o){t.Z=o.p+"assets/images/step1-download-zip-fd203ef8b5032d261e76cbffa4034c20.png"},9715:function(e,t,o){t.Z=o.p+"assets/images/step3-create-category-28a641dcc27b41aa45694a71b4537765.png"}}]);