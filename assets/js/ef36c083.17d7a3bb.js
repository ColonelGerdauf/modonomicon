"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5400],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=o.createContext({}),d=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=d(e.components);return o.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=d(n),m=a,g=u["".concat(l,".").concat(m)]||u[m]||c[m]||r;return n?o.createElement(g,i(i({ref:t},p),{},{components:n})):o.createElement(g,i({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var d=2;d<r;d++)i[d]=n[d];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5452:function(e,t,n){n.r(t),n.d(t,{assets:function(){return l},contentTitle:function(){return i},default:function(){return c},frontMatter:function(){return r},metadata:function(){return s},toc:function(){return d}});var o=n(3117),a=(n(7294),n(3905));const r={sidebar_position:20},i="Step 2: A first look at the Demo Project",s={unversionedId:"getting-started/step-by-step-with-datagen/step2",id:"getting-started/step-by-step-with-datagen/step2",title:"Step 2: A first look at the Demo Project",description:"Demo Project File Structure",source:"@site/docs/getting-started/step-by-step-with-datagen/step2.md",sourceDirName:"getting-started/step-by-step-with-datagen",slug:"/getting-started/step-by-step-with-datagen/step2",permalink:"/modonomicon/docs/getting-started/step-by-step-with-datagen/step2",draft:!1,editUrl:"https://github.com/klikli-dev/modonomicon/tree/documentation/docs/getting-started/step-by-step-with-datagen/step2.md",tags:[],version:"current",sidebarPosition:20,frontMatter:{sidebar_position:20},sidebar:"tutorialSidebar",previous:{title:"Step 1: Setting up the Demo Project",permalink:"/modonomicon/docs/getting-started/step-by-step-with-datagen/step1"},next:{title:"Step 3: Creating the Book",permalink:"/modonomicon/docs/getting-started/step-by-step-with-datagen/step3"}},l={},d=[{value:"Demo Project File Structure",id:"demo-project-file-structure",level:2},{value:"Interlude for Mod developers: Copying relevant files",id:"interlude-for-mod-developers-copying-relevant-files",level:2},{value:"A closer look at the existing files",id:"a-closer-look-at-the-existing-files",level:2},{value:"ModonomiconDemoBook.java",id:"modonomicondemobookjava",level:3},{value:"DataGenerators.java",id:"datageneratorsjava",level:3},{value:"DemoBookProvider.java",id:"demobookproviderjava",level:3},{value:"EnUsProvider.java",id:"enusproviderjava",level:3},{value:"Optional: Additional Languages",id:"optional-additional-languages",level:4}],p={toc:d};function c(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"step-2-a-first-look-at-the-demo-project"},"Step 2: A first look at the Demo Project"),(0,a.kt)("h2",{id:"demo-project-file-structure"},"Demo Project File Structure"),(0,a.kt)("p",null,"First, take a minute to look at the folder structure of the test project.\nThe most intersting parts are in the ",(0,a.kt)("inlineCode",{parentName:"p"},"/src/")," folder, you can ignore the other folders and files for now."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"src\n+---generated\n|   \\---resources\n+---main\n|   +---java\n|   |   \\---com\n|   |       \\---klikli_dev\n|   |           \\---modonomicon_demo_book\n|   |               |   ModonomiconDemoBook.java\n|   |               |\n|   |               \\---datagen\n|   |                   |   DataGenerators.java\n|   |                   |   DemoBookProvider.java\n|   |                   |\n|   |                   \\---lang\n|   |                           EnUsProvider.java\n|   |\n|   \\---resources\n|       |   modonomicon.png\n|       |   pack.mcmeta\n|       |\n|       \\---META-INF\n|               mods.toml\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"/main/java/")," contains the source code files used to generate the book."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"/generated/")," contains the generated files.")),(0,a.kt)("h2",{id:"interlude-for-mod-developers-copying-relevant-files"},"Interlude for Mod developers: Copying relevant files"),(0,a.kt)("p",null,"At this point it might be a good idea to copy the ",(0,a.kt)("inlineCode",{parentName:"p"},"/datagen/")," folder and all contents into your mod.\nYou should skip ModonomiconDemoBook.java, it is the main mod class for the demo project, you should have your own main mod class."),(0,a.kt)("h2",{id:"a-closer-look-at-the-existing-files"},"A closer look at the existing files"),(0,a.kt)("h3",{id:"modonomicondemobookjava"},"ModonomiconDemoBook.java"),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"Modpack creators can and should skip this step.")),(0,a.kt)("p",null,"Interesting is only the line ",(0,a.kt)("inlineCode",{parentName:"p"},"modEventBus.addListener(DataGenerators::gatherData);"),": It registers our DataGenerator to run in Forge's GatherData event. Make sure to include it in your main mod class."),(0,a.kt)("h3",{id:"datageneratorsjava"},"DataGenerators.java"),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"Modpack creators can and should skip this step.")),(0,a.kt)("p",null,"This file registers the two Data Generators from the Demo Project - one that will generate the book, and one that will create the corresponding ",(0,a.kt)("inlineCode",{parentName:"p"},"/lang/*.json")," file. You may want to add more generators for other mod content here in the future. "),(0,a.kt)("h3",{id:"demobookproviderjava"},"DemoBookProvider.java"),(0,a.kt)("p",null,"In this file we will add instructions that will generate our book content, such as categories, entries and pages.\nPlease note that this will only create the structure of the book as well as all styling instructions, but not the actual texts the players will see. This is due to how minecraft's translation / multi language system works. "),(0,a.kt)("p",null,"For now this file is mostly empty - that's OK!"),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"Due to vanilla changes to CreativeTabs, if you are on ",(0,a.kt)("strong",{parentName:"p"},"1.19.3")," you need to slightly adjust the code in this file:"),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",{parentName:"pre",className:"language-java"},'//1.18.2/1.19.2\n.withCreativeTab("modonomicon")\n')),(0,a.kt)("p",{parentName:"admonition"},"becomes "),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",{parentName:"pre",className:"language-java"},'//1.19.3\n.withCreativeTab(new ResourceLocation("modonomicon","modonomicon"))\n'))),(0,a.kt)("h3",{id:"enusproviderjava"},"EnUsProvider.java"),(0,a.kt)("p",null,'"EnUS" corresponds to the "en_us" in the line ',(0,a.kt)("inlineCode",{parentName:"p"},'super(generator, modid, "en_us");')," in the upper region of the file.\nThis is the language code for the English language, meaning in this file we will generate English texts. "),(0,a.kt)("h4",{id:"optional-additional-languages"},"Optional: Additional Languages"),(0,a.kt)("p",null,'If you want to provide translations for other languages, you can copy and rename the file, and change the language code to e.g. "fr_fr" for French.'),(0,a.kt)("p",null,'In Java the "class" name and file name must correspond. Thus, a hypothethical file FrFrProvider would have to look something like this:'),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'public class FrFrProvider extends LanguageProvider {\n   public FrFrProvider(DataGenerator generator, String modid) {\n        super(generator, modid, "fr_fr");\n    }\n}\n')),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"If you do create a second language - make sure to register it in the DataGenerators.java file as well!"),(0,a.kt)("p",{parentName:"admonition"},"e.g.:"),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",{parentName:"pre",className:"language-java"},"\ngenerator.addProvider(event.includeClient(), new FrFrProvider(generator, ModonomiconDemoBook.MODID));\n\n"))))}c.isMDXComponent=!0}}]);